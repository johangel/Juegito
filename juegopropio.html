<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body onload="comenzarJuego()">
   
   <script>
        
        var Personaje;
        var Comida = [];
        var Score;
        
   
          document.addEventListener("keydown",function(event){
                       if(event.keyCode == 40){
                           areaJuego.clear();
                           Personaje.update(Personaje.x, Personaje.y+15);
                       }else if(event.keyCode == 39){
                           areaJuego.clear();
                             Personaje.update(Personaje.x+15, Personaje.y);
                       }else if(event.keyCode == 38){
                           areaJuego.clear();
                             Personaje.update(Personaje.x, Personaje.y-15);
                       }else if(event.keyCode == 37){
                           areaJuego.clear();
                             Personaje.update(Personaje.x-15, Personaje.y);
                       }
                });
       
        function comenzarJuego(){
            Personaje = new component("200px","400px","carita",100, 100, "personaje");
            areaJuego.start();
            Personaje.update(Personaje.x, Personaje.y);
            
        }
       
       var areaJuego = {
           canvas : document.createElement("canvas"),
           start : function(){
               this.canvas.width = 1000;
               this.canvas.height = 600;
               this.context = this.canvas.getContext("2d");
               document.body.insertBefore(this.canvas, document.body.childNodes[0]);
           },
           clear : function() {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
           }
       }
       
       function component(width, height, cabeza, x, y, type){
           this.type = type;
           this.height = height;
           this.width = width;
           this.cabeza = cabeza;
           this.x = x;
           this.y = y;
           this.text ="jej";
           this.update = function(x,y){
               this.x=x;
               this.y=y;
               ctx = areaJuego.context;
               if(this.type == "personaje"){
                    imagenDeCuerpito = new Image();
                    imagenDeCuerpito.src = "caritas/cuerpito.png";
                    imagenDeCarita = new Image();
                    imagenDeCarita.src = 'caritas/carita.png';
                    imagenDeCarita.onload = function(){
                    ctx.drawImage(imagenDeCarita, x, y, 100, 100);
                   }
                    imagenDeCuerpito.onload = function(){
                    var cuerpox = x - 15;
                    var cuerpoy = y +100;
                    ctx.drawImage(imagenDeCuerpito,cuerpox,cuerpoy,100,100);
                   }
               }
           }
       }
       
       function checkKey(e) {
        var event = window.event ? window.event : e;
        console.log(event.keyCode)
       }
    </script> 
</body>
</html>